<!doctype html>
<html lang="en">
    <head>
        <link href="../group9.css" rel="stylesheet" type="text/css">
        <link href="../styles/listener.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <div class="common-title">
            <img class="logo" src="../assets/headphones.png" alt="headphones" style="width: 64px; height: 64px; padding-right: 10px;"/>
            <h2>The HackerFlow Radio</h2>
        </div>
        <div class="navbar">
            <button type="button" onclick="alert('Already logging in!')">Listener</button>                
            <button type="button"> <a href="../pages/producer.html">Producer</a></button>
            <button type="button"> <a href="../pages/DJ.html">DJ</a></button>
            <button type="button" onclick="logout()"> <a href="../index.html">Logout</a></button>
        </div>
        <div class="listener-body-wrapper">
            <h1 id="listener-name" style="margin: 20px;"></h1>
            <button class="change-name">Change Name</button>
            <script>
                const element = document.querySelector(".change-name");
                element.addEventListener("click", function() {
                    let user;
                    do {
                    user = prompt("Please enter your new name:");
                    } while (user !== null && user.trim() === "");
                    if (user !== null) {
                        document.getElementById("listener-name").innerHTML = "Hello " + user + "!";
                    }
                });
            </script>
            <div class="listener-sub-body-wrapper">
                <div class="listener-preference-body">
                    <h3>Search a Song:</h3>
                    <div class="listener-search">
                        <form name="song-form" onsubmit="return validateForm()">
                            <label>Song:</label>
                            <input id="search-song" name="search-song" type="text" class="search-input"> <!-- Add the class here -->
                            <input id="search" type="submit" value="Search" onclick="return searchSong()">
                        </form>
                    </div>   
                    <div class="error-message-container"> <!-- Add a container for error message -->
                        <p id="error-message" class="error-message"></p>
                    </div>                 
                    <h3 style="margin-top: 0;">Select your Genre:</h3>
                    <div class="listener-genre">
                        <!-- Alert an error if none selected -->                            
                        <button type="button">Electronic</button>
                        <button type="button">Lo-Fi</button>
                        <button type="button">Ambient</button>
                        <button type="button">Classical</button>
                    </div>
                    <h3> Select your DJ:</h3>
                    <div class="listener-dj">
                        <select id="DJ" name="DJ">
                            <!-- Alert an error if none selected -->
                            <option value="AllDJ">All DJ</option>
                            <option value="DJ 1">DJ 1</option>
                            <option value="DJ 2">DJ 2</option>
                            <option value="DJ 3">DJ 3</option>
                        </select>
                    </div>
                </div>
                <div class="listener-song-body">
                    <div class="listener-song-checkbox">
                        <ul>
                            <li>
                                <label class="form-control">
                                    <input type="checkbox" name="checkbox" />
                                    Top 5
                                </label>
                            </li>
                            <li>
                                <label class="form-control">
                                    <input type="checkbox" name="checkbox" />
                                    Top 10
                                </label> 
                            </li>
                        </ul>
                        <h2>Upcoming Songs</h2>
                    </div>
                    <table>
                        <tr style="background-color: gray">
                            <th>DJ</th>
                            <th>Songs</th>
                        </tr>
                        <tr>
                            <td> 
                                <img width="25" height="25" src="https://img.icons8.com/ultraviolet/40/test-account.png" alt="test-account" style="padding-right: 10px;"/>
                                DJ 1
                            </td>
                            <td>Song 1</td>
                        </tr>
                        <tr>
                            <td>
                                <img width="25" height="25" src="https://img.icons8.com/ultraviolet/40/test-account.png" alt="test-account" style="padding-right: 10px;"/>
                                DJ 2
                            </td>
                            <td>Song 2</td>
                        </tr>
                        <tr>
                            <td>
                                <img width="25" height="25" src="https://img.icons8.com/ultraviolet/40/test-account.png" alt="test-account" style="padding-right: 10px;"/>
                                DJ 3
                            </td>
                            <td>Song 3</td>
                        </tr>
                        <tr>
                            <td>
                                <img width="25" height="25" src="https://img.icons8.com/ultraviolet/40/test-account.png" alt="test-account" style="padding-right: 10px;"/>
                                DJ 4
                            </td>
                            <td>Song 4</td>
                        </tr>
                        <tr>
                            <td>&nbsp;</td>
                            <td>Song 5</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        <script src="../scripts/login.js"></script>
        <script>
            function validateForm() {
            const inputField = document.getElementById("search-song");
            const errorMessage = document.getElementById("error-message");

            if (inputField.value.trim() === "") {
                errorMessage.textContent = "Please enter a song name."; // Display the error message
                errorMessage.style.color = "red"; // Customize the error message style
                return false; // Prevent form submission
            }

            // Clear the error message if the input is not empty
            errorMessage.textContent = "";
            return true; // Allow form submission
        }

        function searchSong() {
            console.log("Searched a song...")
        }
        </script>
    </body>
</html>